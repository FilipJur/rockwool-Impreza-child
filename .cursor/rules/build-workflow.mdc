---
description: Build workflow and file organization rules
globs: ["src/**/*", "build/**/*", "package.json"]
alwaysApply: true
---

# Build Workflow Rules

## Never Edit These Files
- `build/js/*` - Auto-generated by webpack
- `style.css` - Auto-generated from SCSS  
- Any `.map` files

## Always Edit Source Files
- `src/js/**/*.js` - Source JavaScript
- `src/scss/**/*.scss` - Source styles

## Development Commands
- `npm run watch:js` - Development with auto-rebuild
- `npm run build:js:dev` - Development build
- `npm run build:js` - Production build
- `npm run watch` - Watch both CSS and JS

## File Structure
```
src/js/
├── utils/          # Shared utilities (dom, api, validation)
├── modules/        # Feature modules
└── main.js         # Entry point

build/js/           # Generated files (don't edit)
├── main.js         # Bundled JavaScript
└── main.asset.php  # WordPress dependencies
```

## WordPress Integration
- Only `build/js/main.js` gets enqueued in WordPress
- `main.asset.php` provides auto-managed dependencies
- Version hash handles cache busting automatically

## When Adding New Features
1. Create module in `src/js/modules/`
2. Import in `src/js/main.js`
3. Run `npm run build:js:dev`
4. Test functionality